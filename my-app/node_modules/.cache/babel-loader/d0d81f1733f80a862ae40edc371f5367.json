{"ast":null,"code":"var _jsxFileName = \"/Users/thoanguyen/Desktop/React Zendvn/reactjs-redux-api-nghiepuit/my-app/src/pages/FormPage.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ProductList from '../components/ProductList';\nimport { actAddProductRequest, acUpdateProductRequest, actGetProductRequest } from './../actions/index';\nimport itemSelected from './../reducers/itemSelected';\n\nclass FormPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: '',\n      name: '',\n      price: '',\n      status: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    let {\n      match\n    } = this.props;\n\n    if (match) {\n      let id = match.params.id;\n      this.props.onEditProduct(id);\n    }\n  } // UNSAFE_componentWillMount(){\n  //   let product = this.props.itemSelected;\n  //   if(product!==null){\n  //        this.setState({\n  //           id: product.id,\n  //           name: product.name,\n  //           price: product.price,\n  //           status: product.status\n  //        })\n  //   }\n  //   }\n\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    nextProps = nextProps.itemSelected;\n\n    if (nextProps !== null) {\n      this.setState({\n        id: nextProps.id,\n        name: nextProps.name,\n        price: nextProps.price,\n        status: nextProps.status\n      });\n    }\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.name === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let id = this.state.id;\n    let {\n      history\n    } = this.props;\n    let product = {\n      id: this.state.id,\n      name: this.state.name,\n      price: this.state.price,\n      status: this.state.status\n    };\n\n    if (id) {\n      this.props.onUpdateProduct(product);\n    } else {\n      this.props.handleSubmit(product);\n      history.goBack();\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"T\\xEAn S\\u1EA3n Ph\\u1EA9m\"), React.createElement(\"input\", {\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.handleChange,\n      type: \"text\",\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Gi\\xE1\"), React.createElement(\"input\", {\n      type: \"number\",\n      value: this.state.price,\n      onChange: this.handleChange,\n      name: \"price\",\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-check\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form-check-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \" Tr\\u1EA1ng Th\\xE1i\"), React.createElement(\"input\", {\n      type: \"checkbox\",\n      value: this.state.status,\n      onChange: this.handleChange,\n      name: \"status\",\n      className: \"form-check-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), \"C\\xF2n H\\xE0ng\"), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Submit\"), React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Cancel\")));\n  }\n\n}\n\nconst mapStatetoProps = state => {\n  return {\n    itemSelected: state.itemSelected\n  };\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    handleSubmit: product => {\n      dispatch(actAddProductRequest(product));\n    },\n    onEditProduct: id => {\n      dispatch(actGetProductRequest(id));\n    },\n    onUpdateProduct: product => {\n      dispatch(acUpdateProductRequest(product));\n    }\n  };\n};\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(FormPage);","map":{"version":3,"sources":["/Users/thoanguyen/Desktop/React Zendvn/reactjs-redux-api-nghiepuit/my-app/src/pages/FormPage.js"],"names":["React","Component","connect","ProductList","actAddProductRequest","acUpdateProductRequest","actGetProductRequest","itemSelected","FormPage","constructor","props","state","id","name","price","status","handleChange","bind","handleSubmit","componentDidMount","match","params","onEditProduct","UNSAFE_componentWillReceiveProps","nextProps","setState","event","target","value","checked","preventDefault","history","product","onUpdateProduct","goBack","render","mapStatetoProps","mapDispatchToProps","dispatch","ownProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport ProductList from '../components/ProductList';\nimport {actAddProductRequest,acUpdateProductRequest,actGetProductRequest} from './../actions/index';\nimport itemSelected from './../reducers/itemSelected'\nclass FormPage extends Component {\n  constructor(props){\n    super(props);\n    this.state={\n      id:'',\n      name:'',\n      price: '',\n      status: ''\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  componentDidMount(){\n    let {match} = this.props; \n    if(match){\n      let id = match.params.id;\n      this.props.onEditProduct(id)  \n    }\n  }\n  // UNSAFE_componentWillMount(){\n  //   let product = this.props.itemSelected;\n  //   if(product!==null){\n  //        this.setState({\n  //           id: product.id,\n  //           name: product.name,\n  //           price: product.price,\n  //           status: product.status\n  //        })\n  //   }\n  //   }\n  UNSAFE_componentWillReceiveProps(nextProps){\n    nextProps = nextProps.itemSelected;\n    if(nextProps!==null){\n         this.setState({\n            id: nextProps.id,\n            name: nextProps.name,\n            price: nextProps.price,\n            status: nextProps.status\n         })\n    }  \n  }\n  handleChange(event) {\n    const target = event.target;\n    const value = target.name === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n  handleSubmit(event) {\n  event.preventDefault();\nlet id = this.state.id;\nlet {history} = this.props; \nlet product ={\n  id: this.state.id,\n  name:this.state.name,\n  price:this.state.price,\n  status: this.state.status\n}\nif(id){\n  this.props.onUpdateProduct(product)\n} else {\nthis.props.handleSubmit(product);\n\nhistory.goBack();\n  }\n  }\n\nrender(){\n return (\n  <div className=\"container\">\n  <form onSubmit={this.handleSubmit}>\n  <div className=\"form-group\">\n    <label>Tên Sản Phẩm</label>\n    <input name=\"name\" value={this.state.name} onChange={this.handleChange} type=\"text\" className=\"form-control\" />\n  </div>\n  <div className=\"form-group\">\n    <label>Giá</label>\n    <input type=\"number\" value={this.state.price} onChange={this.handleChange} name=\"price\" className=\"form-control\" />\n  </div>\n \n    <div className=\"form-check\">\n      <label className=\"form-check-label\"> Trạng Thái</label>\n      <input type=\"checkbox\" value={this.state.status} onChange={this.handleChange} name=\"status\"className=\"form-check-input\"/>\n       Còn Hàng\n    </div>\n  <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n  <button className=\"btn btn-primary\">Cancel</button>\n  </form> \n  </div>\n\n\n );\n}\n\n}\nconst mapStatetoProps = state => {\n  return { \n      itemSelected:state.itemSelected\n  }\n  }\nconst mapDispatchToProps = (dispatch,ownProps) =>{\n  return {\n    handleSubmit: (product) => {\n      dispatch(actAddProductRequest(product))\n    },\n    onEditProduct: (id) =>{\n      dispatch(actGetProductRequest(id))\n    },\n    onUpdateProduct: (product) =>{\n      dispatch(acUpdateProductRequest(product))\n    }\n  }\n}\n\nexport default connect(mapStatetoProps,mapDispatchToProps)(FormPage);"]},"metadata":{},"sourceType":"module"}