{"ast":null,"code":"var _jsxFileName = \"/Users/thoanguyen/Desktop/React Zendvn/reactjs-redux-api-nghiepuit/my-app/src/pages/FormPage.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ProductList from '../components/ProductList';\nimport { actAddProductRequest, acUpdateProductRequest } from './../actions/index';\nimport itemSelected from './../reducers/itemSelected';\n\nclass FormPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: '',\n      name: '',\n      price: '',\n      status: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  } // componentDidMount(){\n  //   let {match} = this.props; \n  //   if(match){\n  //     let id = match.params.id;\n  //   }\n  // }\n\n\n  UNSAFE_componentDidMount() {\n    let product = this.props.itemSelected;\n\n    if (product !== null) {\n      this.setState({\n        id: product.id,\n        name: product.name,\n        price: product.price,\n        status: product.status\n      });\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    nextProps = nextProps.itemSelected;\n\n    if (nextProps !== null) {\n      this.setState({\n        id: nextProps.id,\n        name: nextProps.name,\n        price: nextProps.price,\n        status: nextProps.status\n      });\n    }\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.name === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let {\n      history\n    } = this.props;\n    let product = {\n      name: this.state.name,\n      price: this.state.price,\n      status: this.state.status\n    };\n    this.props.handleSubmit(product);\n    console.log(product);\n    history.goBack();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"T\\xEAn S\\u1EA3n Ph\\u1EA9m\"), React.createElement(\"input\", {\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.handleChange,\n      type: \"text\",\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Gi\\xE1\"), React.createElement(\"input\", {\n      type: \"number\",\n      value: this.state.price,\n      onChange: this.handleChange,\n      name: \"price\",\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-check\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form-check-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \" Tr\\u1EA1ng Th\\xE1i\"), React.createElement(\"input\", {\n      type: \"checkbox\",\n      value: this.state.status,\n      onChange: this.handleChange,\n      name: \"status\",\n      className: \"form-check-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), \"C\\xF2n H\\xE0ng\"), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Submit\"), React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Cancel\")));\n  }\n\n}\n\nconst mapStatetoProps = state => {\n  return {\n    itemSelected: state.itemSelected\n  };\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    handleSubmit: product => {\n      dispatch(actAddProductRequest(product));\n    },\n    onEditProduct: id => {\n      dispatch(acUpdateProductRequest(id));\n    }\n  };\n};\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(FormPage);","map":{"version":3,"sources":["/Users/thoanguyen/Desktop/React Zendvn/reactjs-redux-api-nghiepuit/my-app/src/pages/FormPage.js"],"names":["React","Component","connect","ProductList","actAddProductRequest","acUpdateProductRequest","itemSelected","FormPage","constructor","props","state","id","name","price","status","handleChange","bind","handleSubmit","UNSAFE_componentDidMount","product","setState","UNSAFE_componentWillReceiveProps","nextProps","event","target","value","checked","preventDefault","history","console","log","goBack","render","mapStatetoProps","mapDispatchToProps","dispatch","ownProps","onEditProduct"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport ProductList from '../components/ProductList';\nimport {actAddProductRequest,acUpdateProductRequest} from './../actions/index';\nimport itemSelected from './../reducers/itemSelected'\nclass FormPage extends Component {\n  constructor(props){\n    super(props);\n    this.state={\n      id:'',\n      name:'',\n      price: '',\n      status: ''\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  // componentDidMount(){\n  //   let {match} = this.props; \n  //   if(match){\n  //     let id = match.params.id;\n     \n  //   }\n  // }\n  UNSAFE_componentDidMount(){\n    let product = this.props.itemSelected;\n    if(product!==null){\n         this.setState({\n            id: product.id,\n            name: product.name,\n            price: product.price,\n            status: product.status\n         })\n    }\n    }\n  UNSAFE_componentWillReceiveProps(nextProps){\n    nextProps = nextProps.itemSelected;\n    if(nextProps!==null){\n         this.setState({\n            id: nextProps.id,\n            name: nextProps.name,\n            price: nextProps.price,\n            status: nextProps.status\n         })\n    }  \n  }\n  handleChange(event) {\n    const target = event.target;\n    const value = target.name === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n  handleSubmit(event) {\n  event.preventDefault();\nlet {history} = this.props; \nlet product ={\n  name:this.state.name,\n  price:this.state.price,\n  status: this.state.status\n}\nthis.props.handleSubmit(product);\nconsole.log(product)\nhistory.goBack();\n\n  }\n\nrender(){\n return (\n  <div className=\"container\">\n  <form onSubmit={this.handleSubmit}>\n  <div className=\"form-group\">\n    <label>Tên Sản Phẩm</label>\n    <input name=\"name\" value={this.state.name} onChange={this.handleChange} type=\"text\" className=\"form-control\" />\n  </div>\n  <div className=\"form-group\">\n    <label>Giá</label>\n    <input type=\"number\" value={this.state.price} onChange={this.handleChange} name=\"price\" className=\"form-control\" />\n  </div>\n \n    <div className=\"form-check\">\n      <label className=\"form-check-label\"> Trạng Thái</label>\n      <input type=\"checkbox\" value={this.state.status} onChange={this.handleChange} name=\"status\"className=\"form-check-input\"/>\n       Còn Hàng\n    </div>\n  <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n  <button className=\"btn btn-primary\">Cancel</button>\n  </form> \n  </div>\n\n\n );\n}\n\n}\nconst mapStatetoProps = state => {\n  return { \n      itemSelected:state.itemSelected\n  }\n  }\nconst mapDispatchToProps = (dispatch,ownProps) =>{\n  return {\n    handleSubmit: (product) => {\n      dispatch(actAddProductRequest(product))\n    },\n    onEditProduct: (id) =>{\n      dispatch(acUpdateProductRequest(id))\n    }\n  }\n}\n\nexport default connect(mapStatetoProps,mapDispatchToProps)(FormPage);"]},"metadata":{},"sourceType":"module"}